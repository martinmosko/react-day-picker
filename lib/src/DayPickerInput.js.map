{"version":3,"sources":["../../src/DayPickerInput.js"],"names":["HIDE_TIMEOUT","getStateFromProps","props","month","value","m","format","isValid","toDate","dayPickerProps","initialMonth","Date","DayPickerInput","input","daypicker","clickedInside","clickTimeout","hideTimeout","hideAfterDayClick","hideOnDayClick","setTimeout","hideDayPicker","handleContainerMouseDown","handleClick","showDayPicker","onClick","e","persist","handleFocus","onFocus","handleBlur","setState","showOverlay","blurTimeout","focus","onBlur","handleChange","target","onDayChange","onChange","trim","undefined","day","modifiersObj","disabled","disabledDays","selected","selectedDays","modifiers","reduce","obj","modifier","newObj","handleOnKeyUp","keyCode","onKeyUp","handleDayClick","onDayClick","clickUnselectsDay","state","nextProps","nextDayPickerProps","nextValue","hasDifferentValue","willUpdateDayPickerMonth","newMonthProp","shouldDisplayAnotherMonth","getFullYear","getMonth","clearTimeout","selectedDay","classNames","overlayWrapper","overlay","el","inputProps","component","container","createElement","ref","renderOverlay","Component","defaultProps","propTypes","string","oneOfType","arrayOf","isRequired","object","bool","any","shape","func"],"mappings":"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","file":"DayPickerInput.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment'; // eslint-disable-line import/no-extraneous-dependencies\n\nimport DayPicker from './DayPicker';\nimport { getModifiersForDay } from './ModifiersUtils';\nimport { ESC } from './keys';\n\nexport const HIDE_TIMEOUT = 100;\n\nfunction getStateFromProps(props) {\n  let month;\n  if (props.value) {\n    const m = moment(props.value, props.format, true);\n    if (m.isValid()) {\n      month = m.toDate();\n    }\n  } else {\n    month =\n      props.dayPickerProps.initialMonth ||\n      props.dayPickerProps.month ||\n      new Date();\n  }\n\n  return {\n    value: props.value,\n    month,\n  };\n}\n\nexport default class DayPickerInput extends React.Component {\n  static propTypes = {\n    // eslint-disable-next-line react/no-unused-prop-types\n    value: PropTypes.string,\n\n    format: PropTypes.oneOfType([\n      PropTypes.arrayOf(PropTypes.string),\n      PropTypes.string,\n    ]).isRequired,\n\n    dayPickerProps: PropTypes.object,\n    hideOnDayClick: PropTypes.bool,\n    clickUnselectsDay: PropTypes.bool,\n    component: PropTypes.any,\n\n    classNames: PropTypes.shape({\n      container: PropTypes.string,\n      overlayWrapper: PropTypes.string,\n      overlay: PropTypes.string.isRequired,\n    }),\n\n    onDayChange: PropTypes.func,\n    onChange: PropTypes.func,\n    onClick: PropTypes.func,\n    onFocus: PropTypes.func,\n    onBlur: PropTypes.func,\n    onKeyUp: PropTypes.func,\n  };\n\n  static defaultProps = {\n    dayPickerProps: {},\n    value: '',\n    format: 'L',\n    hideOnDayClick: true,\n    clickUnselectsDay: false,\n    component: 'input',\n    classNames: {\n      container: 'DayPickerInput',\n      overlayWrapper: 'DayPickerInput-OverlayWrapper',\n      overlay: 'DayPickerInput-Overlay',\n    },\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = getStateFromProps(props);\n    this.state.showOverlay = false;\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const { dayPickerProps, value } = this.props;\n    const { dayPickerProps: nextDayPickerProps, value: nextValue } = nextProps;\n\n    const hasDifferentValue = nextValue !== value;\n\n    const willUpdateDayPickerMonth =\n      nextDayPickerProps.month && dayPickerProps.month;\n\n    const newMonthProp = nextDayPickerProps.month && !dayPickerProps.month;\n\n    const shouldDisplayAnotherMonth =\n      newMonthProp ||\n      (willUpdateDayPickerMonth &&\n        (nextDayPickerProps.month.getFullYear() !==\n          dayPickerProps.month.getFullYear() ||\n          nextDayPickerProps.month.getMonth() !==\n            dayPickerProps.month.getMonth()));\n\n    if (hasDifferentValue && !shouldDisplayAnotherMonth) {\n      this.setState(getStateFromProps(nextProps));\n    } else if (shouldDisplayAnotherMonth) {\n      this.setState({ month: nextDayPickerProps.month });\n    }\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.clickTimeout);\n    clearTimeout(this.hideTimeout);\n    clearTimeout(this.blurTimeout);\n  }\n\n  input = null;\n  daypicker = null;\n  clickedInside = false;\n  clickTimeout = null;\n  hideTimeout = null;\n\n  /**\n   * Show the Day Picker overlay.\n   * \n   * @memberof DayPickerInput\n   */\n  showDayPicker() {\n    this.setState({\n      showOverlay: true,\n    });\n  }\n\n  /**\n   * Hide the Day Picker overlay\n   * \n   * @memberof DayPickerInput\n   */\n  hideDayPicker() {\n    this.setState({\n      showOverlay: false,\n    });\n  }\n\n  hideAfterDayClick = () => {\n    if (!this.props.hideOnDayClick) {\n      return;\n    }\n    this.hideTimeout = setTimeout(\n      () => this.hideDayPicker(),\n      HIDE_TIMEOUT // give a timeout to show the clicked day\n    );\n  };\n\n  handleContainerMouseDown = () => {\n    this.clickedInside = true;\n    // The input's onBlur method is called from a queue right after onMouseDown event.\n    // setTimeout adds another callback in the queue, but is called later than onBlur event\n    this.clickTimeout = setTimeout(() => {\n      this.clickedInside = false;\n    }, 0);\n  };\n\n  handleClick = e => {\n    this.showDayPicker();\n    if (this.props.onClick) {\n      e.persist();\n      this.props.onClick(e);\n    }\n  };\n\n  handleFocus = e => {\n    this.showDayPicker();\n    if (this.props.onFocus) {\n      e.persist();\n      this.props.onFocus(e);\n    }\n  };\n\n  handleBlur = e => {\n    this.setState({\n      showOverlay: this.clickedInside,\n    });\n\n    // Force input's focus if blur event was caused\n    // by clicking inside the overlay\n    if (this.clickedInside) {\n      this.blurTimeout = setTimeout(() => {\n        this.input.focus();\n      }, 0);\n    }\n\n    if (this.props.onBlur) {\n      e.persist();\n      this.props.onBlur(e);\n    }\n  };\n\n  handleChange = e => {\n    const { value } = e.target;\n    const { format, dayPickerProps, onDayChange, onChange } = this.props;\n    const m = moment(value, format, true);\n\n    if (onChange) {\n      e.persist();\n      onChange(e);\n    }\n\n    if (value.trim() === '') {\n      this.setState({ value });\n      if (this.props.onDayChange) {\n        this.props.onDayChange(undefined, {});\n      }\n      return;\n    }\n\n    if (!m.isValid()) {\n      this.setState({ value });\n      return;\n    }\n\n    const day = m.toDate();\n    this.setState({ month: day, value }, () => {\n      if (!onDayChange) {\n        return;\n      }\n      const modifiersObj = {\n        disabled: dayPickerProps.disabledDays,\n        selected: dayPickerProps.selectedDays,\n        ...dayPickerProps.modifiers,\n      };\n      const modifiers = getModifiersForDay(\n        day,\n        modifiersObj\n      ).reduce((obj, modifier) => {\n        const newObj = { ...obj };\n        newObj[modifier] = true;\n        return newObj;\n      }, {});\n      this.props.onDayChange(m, modifiers);\n    });\n  };\n\n  handleOnKeyUp = e => {\n    this.setState({\n      showOverlay: e.keyCode !== ESC,\n    });\n    if (this.props.onKeyUp) {\n      e.persist();\n      this.props.onKeyUp(e);\n    }\n  };\n\n  handleDayClick = (day, modifiers, e) => {\n    if (this.props.dayPickerProps.onDayClick) {\n      this.props.dayPickerProps.onDayClick(day, modifiers, e);\n    }\n\n    if (modifiers.disabled) {\n      // Do nothing if the day is disabled\n      return;\n    }\n    if (modifiers.selected && this.props.clickUnselectsDay) {\n      // Unselect the day\n      this.setState({ value: '' }, this.hideAfterDayClick);\n      if (this.props.onDayChange) {\n        this.props.onDayChange(undefined, modifiers);\n      }\n      return;\n    }\n\n    const { format } = this.props;\n    const m = moment(day);\n    this.setState(\n      {\n        value: m.format(typeof format === 'string' ? format : format[0]),\n        month: day,\n      },\n      () => {\n        if (this.props.onDayChange) {\n          this.props.onDayChange(m, modifiers);\n        }\n        this.hideAfterDayClick();\n      }\n    );\n  };\n\n  renderOverlay() {\n    let selectedDay;\n    if (this.state.value) {\n      const m = moment(this.state.value, this.props.format, true);\n      if (m.isValid()) {\n        selectedDay = m.toDate();\n      }\n    }\n\n    return (\n      <div className={this.props.classNames.overlayWrapper}>\n        <div className={this.props.classNames.overlay}>\n          <DayPicker\n            ref={el => (this.daypicker = el)}\n            fixedWeeks\n            {...this.props.dayPickerProps}\n            month={this.state.month}\n            selectedDays={selectedDay}\n            onDayClick={this.handleDayClick}\n            numberOfMonths={1}\n          />\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    const inputProps = { ...this.props };\n    delete inputProps.component;\n    delete inputProps.dayPickerProps;\n    delete inputProps.format;\n    delete inputProps.clickUnselectsDay;\n    delete inputProps.hideOnDayClick;\n    delete inputProps.onDayChange;\n    delete inputProps.classNames;\n    return (\n      <div\n        className={this.props.classNames.container}\n        onMouseDown={this.handleContainerMouseDown}\n      >\n        {React.createElement(this.props.component, {\n          ref: el => (this.input = el),\n          ...inputProps,\n          value: this.state.value,\n          onChange: this.handleChange,\n          onFocus: this.handleFocus,\n          onBlur: this.handleBlur,\n          onKeyUp: this.handleOnKeyUp,\n          onClick: this.handleClick,\n        })}\n        {this.state.showOverlay && this.renderOverlay()}\n      </div>\n    );\n  }\n}\n"]}